<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Анализ генетических факторов</title>
    <!-- Initialize theme BEFORE any rendering to prevent flash -->
    <script>
      (function() {
        try {
          const storedTheme = localStorage.getItem('app_theme');
          const storedLang = localStorage.getItem('app_language');

          if (storedTheme === 'dark') {
            document.documentElement.classList.add('dark');
          }

          if (storedLang === 'en' || storedLang === 'ru') {
            document.documentElement.setAttribute('lang', storedLang);
          }
        } catch(e) {
          // localStorage might not be available
          console.error('Theme init error:', e);
        }
      })();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Design System Tokens */
      :root {
        /* Color Tokens - Light Theme */
        --bg-page: 245 245 245;        /* #f5f5f5 */
        --bg-surface: 255 255 255;     /* #ffffff */
        --bg-elevated: 250 250 250;    /* #fafafa */
        --border: 224 224 224;         /* #e0e0e0 */
        --border-strong: 208 208 208;  /* #d0d0d0 */
        --text-primary: 26 26 26;      /* #1a1a1a */
        --text-secondary: 102 102 102; /* #666666 */
        --text-tertiary: 153 153 153;  /* #999999 */
        --interactive: 51 51 51;       /* #333333 */
        --interactive-hover: 26 26 26; /* #1a1a1a */
        --interactive-subtle: 102 102 102; /* #666666 - lighter than interactive, opaque */

        /* Typography Tokens - Scale Ratio: 1.250 (Major Third) */
        /* Base: 16px (1rem) */
        --font-size-display: 2.5rem;    /* 40px - Hero numbers, large metrics */
        --font-size-h1: 2rem;           /* 32px - Page titles */
        --font-size-h2: 1.5rem;         /* 24px - Major sections */
        --font-size-h3: 1.25rem;        /* 20px - Subsections */
        --font-size-h4: 1.125rem;       /* 18px - Card headers */
        --font-size-body-lg: 1rem;      /* 16px - Lead text, large buttons */
        --font-size-body: 0.875rem;     /* 14px - Default text */
        --font-size-caption: 0.75rem;   /* 12px - Helper text */

        /* Line Heights */
        --leading-display: 1.2;         /* 48px at 40px font */
        --leading-h1: 1.25;             /* 40px at 32px font */
        --leading-h2: 1.33;             /* 32px at 24px font */
        --leading-h3: 1.4;              /* 28px at 20px font */
        --leading-h4: 1.4;              /* 25px at 18px font */
        --leading-body: 1.5;            /* 21px at 14px font */
        --leading-caption: 1.4;         /* 17px at 12px font */
        --leading-tight: 1.25;          /* Compact spacing */

        /* Letter Spacing */
        --tracking-tight: -0.02em;      /* Display/large headings */
        --tracking-normal: 0;           /* Body text */
        --tracking-wide: 0.05em;        /* Labels */
        --tracking-wider: 0.1em;        /* Overlines/all-caps */
      }

      .dark {
        /* Color Tokens - Dark Theme */
        --bg-page: 18 18 18;           /* #121212 */
        --bg-surface: 30 30 30;        /* #1e1e1e */
        --bg-elevated: 42 42 42;       /* #2a2a2a */
        --border: 51 51 51;            /* #333333 */
        --border-strong: 68 68 68;     /* #444444 */
        --text-primary: 240 240 240;   /* #f0f0f0 */
        --text-secondary: 160 160 160; /* #a0a0a0 */
        --text-tertiary: 112 112 112;  /* #707070 */
        --interactive: 224 224 224;    /* #e0e0e0 */
        --interactive-hover: 240 240 240; /* #f0f0f0 */
        --interactive-subtle: 160 160 160; /* #a0a0a0 - lighter than interactive, opaque */
        /* Typography tokens remain the same in dark mode */
      }

      /* Typography Utility Classes */
      .type-display {
        font-size: var(--font-size-display);
        line-height: var(--leading-display);
        font-weight: 700;
        letter-spacing: var(--tracking-tight);
      }

      .type-h1 {
        font-size: var(--font-size-h1);
        line-height: var(--leading-h1);
        font-weight: 700;
        letter-spacing: var(--tracking-tight);
      }

      .type-h2 {
        font-size: var(--font-size-h2);
        line-height: var(--leading-h2);
        font-weight: 600;
      }

      .type-h3 {
        font-size: var(--font-size-h3);
        line-height: var(--leading-h3);
        font-weight: 600;
      }

      .type-h4 {
        font-size: var(--font-size-h4);
        line-height: var(--leading-h4);
        font-weight: 600;
      }

      .type-body-lg {
        font-size: var(--font-size-body-lg);
        line-height: var(--leading-body);
        font-weight: 500;
      }

      .type-body {
        font-size: var(--font-size-body);
        line-height: var(--leading-body);
        font-weight: 400;
      }

      .type-body-medium {
        font-size: var(--font-size-body);
        line-height: var(--leading-body);
        font-weight: 500;
      }

      .type-caption {
        font-size: var(--font-size-caption);
        line-height: var(--leading-caption);
        font-weight: 400;
      }

      .type-label {
        font-size: var(--font-size-caption);
        line-height: var(--leading-caption);
        font-weight: 600;
        letter-spacing: var(--tracking-wide);
        text-transform: uppercase;
      }

      .type-overline {
        font-size: var(--font-size-caption);
        line-height: var(--leading-caption);
        font-weight: 600;
        letter-spacing: var(--tracking-wider);
        text-transform: uppercase;
      }

      /* Custom scrollbar */
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgb(var(--bg-elevated));
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgb(var(--border-strong));
        border-radius: 3px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgb(var(--text-tertiary));
      }
    </style>
    <script>
      // Configure Tailwind to use design system tokens
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              'page': 'rgb(var(--bg-page))',
              'surface': 'rgb(var(--bg-surface))',
              'elevated': 'rgb(var(--bg-elevated))',
              'border': 'rgb(var(--border))',
              'border-strong': 'rgb(var(--border-strong))',
              'text': {
                'primary': 'rgb(var(--text-primary))',
                'secondary': 'rgb(var(--text-secondary))',
                'tertiary': 'rgb(var(--text-tertiary))',
              },
              'interactive': {
                DEFAULT: 'rgb(var(--interactive))',
                'hover': 'rgb(var(--interactive-hover))',
                'subtle': 'rgb(var(--interactive-subtle))',
              }
            },
            fontSize: {
              'display': ['var(--font-size-display)', { lineHeight: 'var(--leading-display)', letterSpacing: 'var(--tracking-tight)', fontWeight: '700' }],
              'h1': ['var(--font-size-h1)', { lineHeight: 'var(--leading-h1)', letterSpacing: 'var(--tracking-tight)', fontWeight: '700' }],
              'h2': ['var(--font-size-h2)', { lineHeight: 'var(--leading-h2)', fontWeight: '600' }],
              'h3': ['var(--font-size-h3)', { lineHeight: 'var(--leading-h3)', fontWeight: '600' }],
              'h4': ['var(--font-size-h4)', { lineHeight: 'var(--leading-h4)', fontWeight: '600' }],
              'body-lg': ['var(--font-size-body-lg)', { lineHeight: 'var(--leading-body)', fontWeight: '500' }],
              'body-md': ['var(--font-size-body)', { lineHeight: 'var(--leading-body)', fontWeight: '500' }],
              'body': ['var(--font-size-body)', { lineHeight: 'var(--leading-body)', fontWeight: '400' }],
              'caption': ['var(--font-size-caption)', { lineHeight: 'var(--leading-caption)', fontWeight: '400' }],
            },
            letterSpacing: {
              'label': 'var(--tracking-wide)',
              'overline': 'var(--tracking-wider)',
            }
          }
        }
      }
    </script>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "lucide-react": "https://esm.sh/lucide-react@^0.561.0"
  }
}
</script>
</head>
  <body class="antialiased bg-page text-text-primary transition-colors">
    <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>